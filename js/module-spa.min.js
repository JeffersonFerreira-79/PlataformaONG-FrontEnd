let mainContent=document.querySelector("main"),rotas={"/":"index","/index.html":"index","/projetos.html":"projetos","/cadastro.html":"cadastro"};async function carregarConteudo(t){try{let e="/"===t?rotas["/"]:rotas[t],a=await fetch(`../html/${e}.html`);if(!a.ok)throw Error(`N\xe3o foi possível\xedvel carregar o conteúdo\xfado: ${a.statusText}`);let n=await a.text(),r=document.createElement("div");r.innerHTML=n;let o=r.querySelector("main");o&&(mainContent.innerHTML=o.innerHTML)}catch(i){console.error("Erro ao carregar ap\xe1gina:",i),mainContent.innerHTML=`<h1>Erro 404: P\xe1gina n\xe3o encontrado!</h1><p>${i.message}</p>`}}function initSPA(){document.body.addEventListener("click",t=>{let e=t.target;if("A"===e.tagName&&e.href.startsWith(window.location.origin)){t.preventDefault();let a=e.pathname;window.history.pushState(null,"",a),carregarConteudo(a);let n=document.getElementById("menu-principal");n&&n.classList.contains("ativo")&&n.classList.remove("ativo")}}),window.addEventListener("popstate",()=>{carregarConteudo(window.location.pathname)}),carregarConteudo(window.location.pathname)}export{initSPA};
