function validaCPF(e){if(11!==e.length||/^(\d)\1{10}$/.test(e))return!1;let t=0,i;for(let o=1;o<=9;o++)t+=parseInt(e.substring(o-1,o))*(11-o);if((10==(i=10*t%11)||11===i)&&(i=0),i!==parseInt(e.substring(9,10)))return!1;t=0;for(let n=1;n<=10;n++)t+=parseInt(e.substring(n-1,n))*(12-n);return(10==(i=10*t%11)||11===i)&&(i=0),i===parseInt(e.substring(10,11))}function validaEmail(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}let mensagensDeErro={nome_completo:"O nome completo deve conter pelo menos 3 caracteres.",email:"Por favor, insira um e-mail v\xe1lido no formato: nome@dominio.com",cpf:"O CPF \xe9 inv\xe1lido. Verifique os n\xfameros e o formato (xxx.xxx.xxx-xx)."};function initValidacaoForm(e="cadastro-form"){let t=document.getElementById(e).querySelector("form");if(!t)return;let i=e=>{let t=e.nextElementSibling;return t&&t.classList.contains("input-feedback")||((t=document.createElement("div")).classList.add("input-feedback"),e.parentNode.insertBefore(t,e.nextSibling)),t},o=e=>{let t=e.name,o=e.value.trim(),n=i(e),r=!1,a="";if(e.validity.valueMissing)r=!0,a="Este campo \xe9 obrigat\xf3rio.";else if("email"!==t||validaEmail(o)){if("cpf"===t){let l=o.replace(/\D/g,"");validaCPF(l)||(r=!0,a=mensagensDeErro.cpf)}else"nome_completo"===t&&o.length<3&&(r=!0,a=mensagensDeErro.nome_completo)}else r=!0,a=mensagensDeErro.email;return r?(e.classList.add("invalido"),e.classList.remove("valido"),n.textContent=a,n.style.display="block"):(e.classList.remove("invalido"),e.classList.add("valido"),n.style.display="none"),!r},n=t.querySelectorAll('input:not([type="checkbox"]), select');n.forEach(e=>{e.addEventListener("blur",()=>o(e)),e.addEventListener("input",()=>o(e))}),t.addEventListener("submit",e=>{let t=!0;n.forEach(e=>{o(e)||(t=!1)}),t||(e.preventDefault(),alert("Por favor, corrija os erros do formul\xe1rio antes de enviar."))})}export{initValidacaoForm};